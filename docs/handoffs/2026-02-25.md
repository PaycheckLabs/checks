# Checks Daily Handoff — 2026-02-25

Owner: James Odom  
Timezone: PST (-0800)

## 1) TL;DR
We shipped a community-grade Explorer testnet serial page with a real Payment Check flow on Polygon Amoy: mint → transfer → redeem. The Explorer page shows a clean check card image, QR routing to the serial page, and proof links (mint/transfer/redeem) that anyone can verify on Polygonscan. Social posts are live.

Primary focus remains Payment Checks + Explorer.

## 2) Repos and environments
Checks (contracts/specs):
- Repo: https://github.com/PaycheckLabs/checks
- Spec locked: `docs/specs/payment-checks-v1.md`
- Key contracts:
  - `packages/contracts/src/PaymentChecks.sol`
  - `packages/contracts/src/IPaymentChecks.sol`
- Tests:
  - `packages/contracts/test/PaymentChecks.additional.t.sol`
  - `packages/contracts/test/helpers/EdgeCaseERC20s.sol`
- Deploy scripts:
  - `packages/contracts/script/DeployPaymentChecks.s.sol`
  - `packages/contracts/script/DeployAndSmoke.s.sol`
- CI:
  - `.github/workflows/contracts.yml` installs `forge-std` before build/test
- Constraints:
  - v1 has no expiration
- Branching:
  - main is the only long-lived branch
  - feature branches + squash merge

Explorer (Next.js):
- Repo: https://github.com/PaycheckLabs/checks-explorer
- Live domain:
  - https://explorer.checks.xyz/
- Testnet serial route:
  - `/testnet/<serial>`

## 3) Milestones
M0 complete:
- Repo stabilized + first successful on-chain Amoy smoke run (previously validated)

M1 in progress:
- Repeatable on-chain smoke coverage + identity layer groundwork (serial + QR + explorer routing)
- Explorer testnet serial page is now community-grade for at least one serial (FMV check)

## 4) Key deliverable shipped (Explorer page)
Live page:
- https://explorer.checks.xyz/testnet/FMV-8427BC-UK45

What the page includes:
- Check card image (baked per serial) with QR overlay generated by Explorer image endpoint
- Network + contract + tokenId + status
- Links section with full hashes and Copy buttons
- Proof links: mint, transfer, redeem

UI notes:
- Layout improved: spacing, breathing room, Details and Links section headers, Status badge (Redeemed), Copy buttons
- Tip message updated:
  - "Tip: This is an early explorer view. Full experience coming soon."

## 5) On-chain proof data for community-grade serial
Network:
- Polygon Amoy (chainId 80002)

Wallets:
- Issuer: 0x3E8f069a088369B62CAB761633b80fBCB941a379
- Holder: 0x0D5d6388e3E512a94a52284B36DB802De2226330

Deployed during the successful run:
- PaymentChecks: 0x8c6Ed6A6dce49a299a0226d3E648CcaA3ce8D7Fc
- MockERC20: 0x176F24aA16b7c3Fa583aEAe9bD031E3a67Edb1c4

Chosen community serial (CheckId 2 / TokenId 2):
- Serial: FMV-8427BC-UK45
- Explorer URL:
  - https://explorer.checks.xyz/testnet/FMV-8427BC-UK45

Transactions (Amoy):
- Mint:
  - 0x08ac3026c85d37bd3b4b68de2b4933d6e6e64a9ff236d3b2033236b1273a0ed3
- Transfer:
  - 0x9bad56380db5504cb258a58017e62ead3259ecbe2a984eab4dd5eec9b484368c
- Redeem:
  - 0xcb4a3c18dea22459a7813c33d868b67a4119e6f45130190337800694f1a99b4c

Status:
- Redeemed

## 6) Explorer image strategy (current)
Goal:
- Community-ready presentation now, while keeping the foundation safe

Approach:
- Use a baked static image per serial for the check card
- Explorer image endpoint overlays only the QR (QR routes back to the serial page)

Static assets:
- Baked per-serial image is served from:
  - `/checks/testnet/<SERIAL>.png`
Example:
- https://explorer.checks.xyz/checks/testnet/FMV-8427BC-UK45.png

Image endpoint:
- `/api/checks/image/<SERIAL>`
Example:
- https://explorer.checks.xyz/api/checks/image/FMV-8427BC-UK45

QR behavior:
- QR routes to:
  - https://explorer.checks.xyz/<SERIAL>
(For now, we are using the testnet serial page route for the page link, but long-term plan is redirect /testnet/<serial> to /<serial> when mainnet Explorer is ready.)

Notes:
- QR alignment was tuned to visually match the baked design.
- Avoid multi-child div errors in @vercel/og by ensuring explicit `display: flex` on divs with multiple children.

Fonts used in design system (document for future):
- Kanit
  - Medium 24 (title)
  - Regular 16 (left labels)
  - Medium 16 (right values)
  - Regular 18 (token name label)
  - Medium 22 (amount)

## 7) Foundry and smoke run notes (Windows PowerShell)
Primary run (Amoy):
- cd C:\Users\James\checks\packages\contracts
- $env:AMOY_RPC_URL = "https://rpc-amoy.polygon.technology"
- $env:PRIVATE_KEY = "0xISSUER_PRIVATE_KEY"
- $env:SECOND_PRIVATE_KEY = "0xHOLDER_PRIVATE_KEY"
- forge script script/DeployAndSmoke.s.sol:DeployAndSmoke --rpc-url $env:AMOY_RPC_URL --broadcast -vvv

Foundry output paths:
- packages/contracts/broadcast/DeployAndSmoke.s.sol/80002/run-latest.json
- packages/contracts/cache/DeployAndSmoke.s.sol/80002/run-latest.json

If forge or cast not found after restart:
- Found on disk:
  - C:\Users\James\.foundry\bin\forge.exe
  - C:\Users\James\.foundry\bin\cast.exe
- Quick workaround in PowerShell:
  - $forge = "$env:USERPROFILE\.foundry\bin\forge.exe"
  - $cast  = "$env:USERPROFILE\.foundry\bin\cast.exe"
  - & $forge --version
  - & $cast --version
  - Then use & $forge for scripts if PATH is missing

Extra behaviors validated during the successful run:
- Instant claim check minted and redeemed by issuer (checkId 1)
- Instant claim check minted, transferred to holder, redeemed by holder (checkId 2) ← used for community update
- Postdated check minted, not claimable yet, transferred, not claimable for holder, then voided (checkId 3)

## 8) Docs and proof logs
Runbook (Amoy smoke):
- `docs/runbooks/amoy-smoke.md`

Proof docs:
- `docs/proofs/amoy/2026-02-20-deploy-and-smoke-serials.md` (tx hashes + serial URLs)

Repo hygiene:
- `packages/contracts/foundry.lock` ignored via `.gitignore` under packages/contracts

## 9) Social and comms status
Social media posts for the Explorer testnet serial page were published.
Community update messaging focuses on:
- Explorer testnet demo
- Real end-to-end flow
- Proof links are verifiable on-chain
We intentionally did not lead with postdated + void in the first community post to avoid confusion.

## 10) Next actions (immediate)
Explorer:
1) Keep improving layout and polish, but keep it stable
2) Consider adding a small “Open in Polygonscan” button near Contract
3) Optional: add copy feedback UX (temporary “Copied” text)
4) Prepare a second post/update later focusing on postdated + void (real-world check behavior)

Contracts:
1) Update DeployAndSmoke to print:
   - https://explorer.checks.xyz/testnet/<serial>
2) Confirm new smoke run still works after any minor tweaks

Process:
1) Create Feb 25 handoff commit
2) Start new chat using the prepared new-chat starter message

## Closeout
Explorer page is community-ready for FMV-8427BC-UK45.  
Next milestone is continued M1: repeatable smoke proof and identity routing improvements without breaking stability.
