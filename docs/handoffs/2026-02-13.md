# Checks Handoff - 2026-02-13

Owner: James Odom  
Repo: https://github.com/PaycheckLabs/checks  
Whitepaper (handbook): https://paycheck-labs.gitbook.io/checks-whitepaper  
Phase: Initial testnet beta  
Focus: Payment Checks first (Vesting + Staking deferred)

---

## 0) Canonical references (read first)
- Project anchor: `docs/anchor.md`
- This handoff: `docs/handoffs/2026-02-13.md`

---

## 1) Current objective
Start the Payment Checks spec lock step and produce:
1) Locked v1 behavior decisions (no more options)
2) Final contract interface + events
3) Status model used consistently by contracts, indexer, SDK, and explorer
4) Test checklist aligned to the locked spec

---

## 2) Repo status snapshot
### Monorepo baseline
Repo is public and structured for scaling:
- `packages/contracts/`
- `packages/indexer/`
- `packages/sdk/`
- `apps/web/`
- `docs/`

### Tooling / config
Core config files are in place and verified as working.

Note on formatting:
- We previously encountered “single-line file” issues during creation/editing of dotfiles.
- Resolution strategy going forward: verify via Raw view when anything looks suspicious.
- Do not spend cycles re-litigating formatting. If Raw is wrong, delete/recreate or fully replace content and re-verify.

Verification rule:
- When a dotfile or config behaves weirdly, open the file and click Raw.
- If Raw displays as one long line, treat it as invalid and fix immediately.

---

## 3) What was completed in this session
- Established and verified repo foundation for Checks development.
- Confirmed dotfiles and core tooling files are now functioning properly.
- Confirmed a reliable verification workflow using Raw view for newline-sensitive files.
- Prepared handoff workflow so new chats can resume instantly without context drift.

---

## 4) Decisions confirmed
- Initial testnet scope is Payment Checks only.
- Vesting Checks and Staking Checks are deferred until Payment Checks are stable.

---

## 5) Immediate next steps (ordered)
1) Payment Checks spec lock
   - Choose and lock: recipient model, expiration rules, cancellation rules
   - Lock: partial vs full redemption, fee policy for testnet, and required events
2) Update contracts interface to match locked spec
3) Define indexer canonical types + status reconstruction rules
4) Define SDK DTOs matching the same model
5) Only after core data model is locked: start web/explorer wiring

---

## 6) Payment Checks spec lock checklist (do next)
Lock the following decisions with zero ambiguity:

### A) Recipient model (choose one)
- Option 1: Direct recipient address stored on-chain
- Option 2: Claim model (link / hash / signature approach)

### B) Expiration
- No expiration for v1, or
- Expiration timestamp with precise rules

### C) Cancellation
- No cancellation for v1, or
- Cancellation rules (who, when, effects on status and funds)

### D) Redemption rules
- Full-only redemption, or
- Partial redemption supported

### E) Token policy (testnet)
- Any ERC-20, or
- Allowlist, or
- Single token for v1 testnet

### F) Required events
Define the minimal event set that supports:
- Explorer rendering
- Indexer status reconstruction
- Wallet UX correctness

### G) Status model
Single canonical status machine, including terminal statuses.

### H) Test checklist
Edge cases and invariants (reentrancy, approvals, unexpected token behavior).

---

## 7) Constraints
- Security first
- Tight testnet scope, no feature creep
- No secrets in repo
- Avoid em dashes in docs
- Workflows optimized for GitHub UI edits (not local-first)

---

## 8) Open questions
- Target testnet network (Polygon testnet or alternative)
- Upgradeability approach for testnet (none vs minimal upgrade proxy)
- Indexing strategy for v1 (simple log scan vs more advanced infra later)

---

## 9) How to start the next chat (copy/paste)
```text
Continue Checks build.

Repo: https://github.com/PaycheckLabs/checks
Whitepaper: https://paycheck-labs.gitbook.io/checks-whitepaper

Read first:
- docs/handoffs/2026-02-13.md
- docs/anchor.md

Goal now: Payment Checks spec lock.
Output: locked v1 spec + final interface/events + next commit plan (contracts, indexer types, sdk types).
Constraints: security first, tight testnet scope, avoid em dashes.
