# Checks Handoff - 2026-02-28

## 1) Overview

We continued Explorer UI stabilization and made meaningful progress while keeping the project in controlled iteration mode.

Key wins today:
- Serial page layout is cleaner and more consistent (Details + Links).
- Memo support was added to the curated serial record and displayed on the serial page.
- QR overlay was adjusted and is now considered locked for PC (desktop).
- QR settings are documented so we can restore quickly if anything drifts again.
- Build/deploy issues were resolved (JSON syntax).

We are still operating in curated mode with a single showcase check:
**FMV-8427BC-UK45**

---

## 2) Curated Mode Status

Explorer remains intentionally reduced to one curated serial:
- `FMV-8427BC-UK45`

Curated list source:
- `data/testnet-serials.json`

Strategy remains:
1. Perfect FMV formatting.
2. Mint one new test check.
3. Add it to curated list.
4. Inspect.
5. Iterate only if needed.
6. Repeat controlled expansion.

No bulk additions.

---

## 3) Serial Page UI Improvements (FMV)

We made several surgical improvements to the serial page without destabilizing the layout:

- Chip row:
  - Added missing dot separator between “Polygon Amoy (80002)” and “Status”.
- Buttons:
  - Reduced button font weight so buttons are not overly bold.
- Hash/contract display:
  - Removed pill/boxed styling for tx hashes and contract text (still scrollable, but not “pill” framed).
- Details panel layout:
  - Increased spacing between rows (less “squished”).
  - Added small spacing below contract action buttons so TokenID/Memo sit cleaner.
- Footer text:
  - Restored to: “Tip: This is an early explorer view. Full experience coming soon.”

---

## 4) Memo Support Added (Curated / MVP Preview)

We added an MVP-style Memo field so the Explorer can display a check memo in Details.

Changes:
- `type SerialRecord` updated with:
  - `memo?: string`
- `data/testnet-serials.json` now includes a memo for FMV:
  - “This is the first ever tracked NFT Check on Checks Explorer.”
- Serial page renders:
  - Details row: Memo → value (wrap-safe)

Note:
- This first memo is curated and not yet tracked on-chain.
- Future checks should include memo in a trackable way (events and/or token metadata), but this establishes the UI pattern now.

---

## 5) QR Overlay State (PC Locked)

QR was repeatedly drifting due to responsive breakpoints and incremental edits.
We now have a “PC locked” version with known-good placement and sizing.

Canonical QR reference:
- `docs/qr-overlay-reference.md` (contains full JSX + CSS snapshot)
- Local PDF was also generated for offline reference.

Current “locked PC” QR values (from the latest serial file):
- Desktop `.qrOuter`:
  - right: 18px
  - top: 143px
  - width/height: 106px
  - border-radius: 7px
- Desktop `.qrImg`:
  - width/height: 95px
  - border-radius: 0px (sharp QR)

Mobile:
- Mobile QR is not stabilized and is messy compared to PC.
- We are pausing mobile work for now to avoid destabilizing the core layout.

---

## 6) Known Issues / Lessons

- QR drift was caused by responsive CSS and edits landing in the wrong scope (mobile edits leaking into desktop).
- JSON syntax errors can break production builds (comma issues); avoid trailing commas and validate JSON carefully.
- Stabilization mode works best when changes are tiny, isolated, and verified immediately.

---

## 7) Next Development Phase (High Priority)

New goal: Stop relying on CSS QR overlay and begin “printing” the QR directly onto the check image.

Plan (Option A):
- Use the existing image endpoint:
  - `pages/api/checks/image/[serial].tsx`
- Bake/composite the QR onto the returned PNG at the same placement used in the locked PC serial file.
- Once the baked image is confirmed correct:
  - Serial page should prefer the baked endpoint image source.
  - CSS overlay can be disabled (or kept only as fallback).

This will eliminate QR drift issues permanently on desktop.

---

## 8) Repos / Links

Primary repos:
- Checks (core contracts + docs): https://github.com/PaycheckLabs/checks
- Checks Explorer (frontend UI): https://github.com/PaycheckLabs/checks-explorer

Whitepaper:
- https://paycheck-labs.gitbook.io/checks-whitepaper

---

## 9) Architectural Clarifications

Explorer routes:
- `pages/[serial].tsx` → redirect only
- `pages/testnet/[serial].tsx` → actual page logic

Image endpoint:
- `pages/api/checks/image/[serial].tsx`

Curated list:
- `data/testnet-serials.json`

---

## 10) Closeout

Explorer is in a better state than the last handoff:
- The serial page is cleaner.
- Memo support is in place.
- PC QR overlay is locked and documented.

Next session should focus on:
- Printing/baking the QR onto the check image (desktop first).
- Keeping all existing layout and QR reference settings intact.
- Continuing controlled expansion once QR-on-image is stable.
